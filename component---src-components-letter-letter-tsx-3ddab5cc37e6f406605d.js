(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"6BGy":function(e,t,n){},"6VaU":function(e,t,n){"use strict";var r=n("XKFU"),o=n("xF/b"),i=n("S/j/"),a=n("ne8i"),s=n("2OiF"),c=n("zRwo");r(r.P,"Array",{flatMap:function(e){var t,n,r=i(this);return s(e),t=a(r.length),n=c(r,0),o(n,r,r,t,0,1,e,arguments[1]),n}}),n("nGyu")("flatMap")},"7VC1":function(e,t,n){"use strict";var r=n("XKFU"),o=n("Lgjv"),i=n("ol8x"),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*a,"String",{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},"9XZr":function(e,t,n){"use strict";var r=n("XKFU"),o=n("Lgjv"),i=n("ol8x"),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*a,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},AphP:function(e,t,n){"use strict";var r=n("XKFU"),o=n("S/j/"),i=n("apmT");r(r.P+r.F*n("eeVq")((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=o(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},CNgt:function(e,t,n){"use strict";n("ioFf"),n("V+eJ"),n("91GP"),n("hHhE"),n("/SS/");var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};t.__esModule=!0;var s=n("q1tI"),c=n("17x9"),u=n("GemG"),l=n("Rk8H"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lineHeight:null},t.textarea=t.props.innerRef||s.createRef(),t.onResize=function(e){t.props.onResize&&t.props.onResize(e)},t.updateLineHeight=function(){t.textarea.current&&t.setState({lineHeight:l(t.textarea.current)})},t.onChange=function(e){var n=t.props.onChange;t.currentValue=e.currentTarget.value,n&&n(e)},t}return o(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.maxRows,r=t.async;"number"==typeof n&&this.updateLineHeight(),"number"==typeof n||r?setTimeout((function(){return e.textarea.current&&u(e.textarea.current)})):this.textarea.current&&u(this.textarea.current),this.textarea.current&&this.textarea.current.addEventListener("autosize:resized",this.onResize)},t.prototype.componentWillUnmount=function(){this.textarea.current&&(this.textarea.current.removeEventListener("autosize:resized",this.onResize),u.destroy(this.textarea.current))},t.prototype.render=function(){var e=this.props,t=(e.onResize,e.maxRows),n=(e.onChange,e.style),r=(e.innerRef,e.children),o=a(e,["onResize","maxRows","onChange","style","innerRef","children"]),c=this.state.lineHeight,u=t&&c?c*t:null;return s.createElement("textarea",i({},o,{onChange:this.onChange,style:u?i({},n,{maxHeight:u}):n,ref:this.textarea}),r)},t.prototype.componentDidUpdate=function(){this.textarea.current&&u.update(this.textarea.current)},t.defaultProps={rows:1,async:!1},t.propTypes={rows:c.number,maxRows:c.number,onResize:c.func,innerRef:c.object,async:c.bool},t}(s.Component);t.TextareaAutosize=s.forwardRef((function(e,t){return s.createElement(f,i({},e,{innerRef:t}))}))},FLlr:function(e,t,n){var r=n("XKFU");r(r.P,"String",{repeat:n("l0Rn")})},GemG:function(e,t,n){var r,o,i;n("RW0V"),n("2Spj"),n("8+KV"),n("V+eJ"),n("rGqo"),n("yt8O"),n("Btvt"),n("XfO3"),n("9AAn"),o=[e,t],void 0===(i="function"==typeof(r=function(e,t){"use strict";var n,r,o="function"==typeof Map?new Map:(n=[],r=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return r[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),r.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r.splice(t,1))}}),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(l){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t,n=null,r=null,a=null,s=function(){e.clientWidth!==r&&f()},c=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",f,!1),e.removeEventListener("keyup",f,!1),e.removeEventListener("autosize:destroy",c,!1),e.removeEventListener("autosize:update",f,!1),Object.keys(t).forEach((function(n){e.style[n]=t[n]})),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",c,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",f,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",f,!1),e.addEventListener("autosize:update",f,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:c,update:f}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),n="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(n)&&(n=0),f()}function u(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function l(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+n+"px",r=e.clientWidth,t.forEach((function(e){e.node.scrollTop=e.scrollTop})),o&&(document.documentElement.scrollTop=o)}}function f(){l();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(r<t?"hidden"===n.overflowY&&(u("scroll"),l(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(u("hidden"),l(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),a!==r){a=r;var o=i("autosize:resized");try{e.dispatchEvent(o)}catch(s){}}}}function s(e){var t=o.get(e);t&&t.destroy()}function c(e){var t=o.get(e);t&&t.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(e){return e}).destroy=function(e){return e},u.update=function(e){return e}):((u=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return a(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e},u.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],c),e}),t.default=u,e.exports=t.default})?r.apply(t,o):r)||(e.exports=i)},I74W:function(e,t,n){"use strict";n("qncB")("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},INYr:function(e,t,n){"use strict";var r=n("XKFU"),o=n("CkkT")(6),i="findIndex",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("nGyu")(i)},JjRn:function(e,t,n){},Lgjv:function(e,t,n){var r=n("ne8i"),o=n("l0Rn"),i=n("vhPU");e.exports=function(e,t,n,a){var s=String(i(e)),c=s.length,u=void 0===n?" ":String(n),l=r(t);if(l<=c||""==u)return s;var f=l-c,d=o.call(u,Math.ceil(f/u.length));return d.length>f&&(d=d.slice(0,f)),a?d+s:s+d}},"O/sP":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return te})),n.d(t,"pageQuery",(function(){return ne}));n("f3/d"),n("KKXr");var r=n("q1tI"),o=n.n(r),i=n("+o6H"),a=n("IHi9");function s(){return o.a.createElement(a.a,{layout:"letter"})}n("a1Th"),n("Btvt"),n("XfO3"),n("HEwt"),n("rGqo"),n("rE2o"),n("ioFf"),n("Oyvg"),n("91GP"),n("L9s1"),n("Z2Ku"),n("pIFo"),n("SRfc");var c=n("O6Fj"),u=n.n(c),l=n("LvDl"),f=n.n(l),d=(n("6BGy"),n("JjRn"),n("VRzm"),n("o0o1")),p=n.n(d);n("ls82"),n("h7Nl"),n("LK8F");function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var m="https://js.stripe.com/v3",v=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,y="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",g=null,w=function(e){return null!==g?g:g=new Promise((function(t,n){if("undefined"!=typeof window)if(window.Stripe&&e&&console.warn(y),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(m,'"]')),t=0;t<e.length;t++){var n=e[t];if(v.test(n.src))return n}return null}();r&&e?console.warn(y):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(m).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(o){return void n(o)}else t(null)}))},b=function(e,t){if(null===e)return null;var n=e.apply(void 0,h(t));return function(e){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.7.0"})}(n),n},E=Promise.resolve().then((function(){return w(null)})),x=!1;E.catch((function(e){x||console.warn(e)}));function S(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,s,"next",e)}function s(e){S(i,r,o,a,s,"throw",e)}a(void 0)}))}}var j=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x=!0,E.then((function(e){return b(e,t)}))}("pk_live_51v9NZmT3TbTBBYultfXFkXO00Ohhh09jN");var A=function(e){var t=e.checkedAddresses,n=e.myAddress,i=e.body,a=e.allVariablesFilledIn,s=e.email,c=Object(r.useState)(""),u=c[0],l=c[1],f=Object(r.useState)(!1),d=f[0],h=f[1];function m(){return(m=O(p.a.mark((function e(r){var o,a,c,u,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),r.preventDefault(),e.next=4,fetch("https://us-central1-political-postcards.cloudfunctions.net/api/startPayment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fromAddress:Object.assign({},n,{email:s}),toAddresses:t,body:i,email:s,test:!1})}).then((function(e){return e.json()}));case 4:if(!(o=e.sent).errors){e.next=10;break}return l(o.errors.map((function(e){return e.message})).join(", ")),e.abrupt("return");case 10:l("");case 11:return a=o.sessionId,e.next=14,j;case 14:return c=e.sent,e.next=17,c.redirectToCheckout({sessionId:a});case 17:u=e.sent,f=u.error,console.error(f);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v,y=0===t.length||!a||d;return o.a.createElement(o.a.Fragment,null,u&&o.a.createElement("div",{className:"alert"},u),o.a.createElement("form",{onSubmit:function(e){return m.apply(this,arguments)},className:"text-center"},o.a.createElement("button",{type:"submit",disabled:y},(v=1*t.length,d?"Submitting ...":n.address_line1&&0===t.length&&!a?"Select some addresses and fill in all fields":n.address_line1&&0===t.length?"Select some addresses":a?"Mail "+t.length+" letters for $"+v.toFixed(2):"Please fill in all fields"))))};function N(e){var t=e.updateAddress,n=Object(r.useState)({}),i=n[0],a=n[1];function s(e){var n=Object.assign({},i,e);a(n),t(n)}return o.a.createElement(o.a.Fragment,null,o.a.createElement("fieldset",{className:"pure-form-stacked"},o.a.createElement("div",{className:"pure-control-group"},o.a.createElement("label",null,"Your Name"),o.a.createElement("input",{className:"pure-u-1",placeholder:"Your Name",type:"text",name:"name",onChange:function(e){return s({name:e.target.value})}}))),o.a.createElement("fieldset",null,o.a.createElement("div",{className:"pure-control-group"},o.a.createElement("label",null,"Your Address"),o.a.createElement("input",{className:"pure-u-1",placeholder:"123 Main St",type:"text",name:"address",onChange:function(e){return s({address_line1:e.target.value})}}),o.a.createElement("div",{className:"pure-g"},o.a.createElement("div",{className:"right-pad-input pure-u-1 pure-u-md-1-3"},o.a.createElement("input",{placeholder:"City",name:"city",onChange:function(e){return s({address_city:e.target.value})}})),o.a.createElement("div",{className:"right-pad-input pure-u-1 pure-u-md-1-3"},o.a.createElement("input",{placeholder:"State",type:"text",name:"state",onChange:function(e){return s({address_state:e.target.value})}})),o.a.createElement("div",{className:"pure-u-1 pure-u-md-1-3"},o.a.createElement("input",{className:"full-width",placeholder:"Zipcode",type:"text",name:"zip",onChange:function(e){return s({address_zip:e.target.value})}}))))))}n("6VaU");function L(e){var t=e.restricts,n=e.levels,r=e.roles;return!t||l.some(t||[],(function(e){return(n||[]).includes(e.level)&&("*"===e.role||(r||[]).includes(e.role))}))}n("tUrg");var F=function(e){var t=e.levels,n=e.roles,r=e.address,o=e.link,i=e.officeName,a=e.name,s=e.email;this.officeName=i,this.address=r,this.link=o,this.roles=n,this.levels=t,this.name=a,this.email=s};function _(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function k(e,t){if(!e.offices)return[];e.offices.forEach((function(e){!e.roles&&e.levels.includes("locality")&&e.name.includes("Council")&&(e.roles=["legislatorUpperBody"]),!e.roles&&e.levels.includes("locality")&&e.name.includes("Mayor")&&(e.roles=["headOfState"])}));var n=e.offices.filter((function(e){var n,r,o=e.levels.includes("country")&&(e.roles.includes("headOfState")||e.roles.includes("headOfGovernment")||e.roles.includes("deputyHeadOfGovernment")),i=(null===(n=e.roles)||void 0===n?void 0:n.includes("highestCourtJudge"))||(null===(r=e.roles)||void 0===r?void 0:r.includes("judge"))||e.name.includes("Justice")||e.name.includes("Judge"),a=L(Object.assign({restricts:t},e));return!o&&!i&&a}));return f.a.flatMap(n,(function(t){return f.a.flatMap(t.officialIndices,(function(n){var r=e.officials[n];return function(e,t){return(t.address||[]).map((function(n){var r,o;return new F({name:t.name,address:n,officeName:e.name,levels:e.levels,roles:e.roles,link:null===(r=t.urls)||void 0===r?void 0:r[0],email:null===(o=t.emails)||void 0===o?void 0:o[0]})}))}(t,r)})).filter((function(e){return void 0!==e}))}))}var P=function(){function e(e){this.googleApiKey=e}return e.prototype.fetch=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e,t=(e=p.a.mark((function e(t){var n,r,o,i,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,r=t.restricts,o=new URLSearchParams({address:n,key:this.googleApiKey}).toString(),e.next=4,fetch("https://www.googleapis.com/civicinfo/v2/representatives?"+o);case 4:return i=e.sent,e.next=7,i.json();case 7:return a=e.sent,e.abrupt("return",k(a,r));case 9:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,s,"next",e)}function s(e){_(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),e}(),R=n("SD9F");function C(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function T(e,t){if(!(null==e?void 0:e.data))return[];var n=e.data.filter((function(e){return L({restricts:t,levels:[e.office.level],roles:[e.office.role]})}));return f.a.flatMap(n,(function(e){return function(e){var t,n;return t="New York City Council"===e.body?"https://defund-nypd-reps.glitch.me/district/"+e.district:null===(n=e.urls)||void 0===n?void 0:n[0],e.addresses.map((function(n){var r=n.name?e.office.name+" - "+n.name:e.office.name;return new F({name:e.name,address:n.address,officeName:r,link:t,levels:[e.office.level],roles:[e.office.role],email:e.email})}))}(e)}))}var z=function(){function e(){}return e.prototype.fetch=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e,t=(e=p.a.mark((function e(t){var n,r,o,i,a,s,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,r=t.restricts,e.next=3,Object(R.a)({address:n}).then((function(e){return Object(R.b)(e[0])}));case 3:return o=e.sent,i=o.lat,a=o.lng,e.next=7,fetch("https://city-council-api.herokuapp.com/lookup?lat="+i+"&lng="+a);case 7:return s=e.sent,e.next=10,s.json();case 10:return c=e.sent,e.abrupt("return",T(c,r));case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){C(i,r,o,a,s,"next",e)}function s(e){C(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),e}();function I(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function H(e){var t,n;return(null===(t=e.roles)||void 0===t?void 0:t.includes("legislatorUpperBody"))&&(null===(n=e.levels)||void 0===n?void 0:n.includes("locality"))}var K=function(){function e(e){this.googleApiKey=e}return e.prototype.fetch=function(){var e,t=(e=p.a.mark((function e(t){var n,r,o,i,a,s,c,u,f,d,h,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new P(this.googleApiKey),i=new z,a=t.restricts,s=1===(null==a?void 0:a.length)&&"locality"===(null==a||null===(n=a[0])||void 0===n?void 0:n.level)&&"legislatorUpperBody"===(null==a||null===(r=a[0])||void 0===r?void 0:r.role),c=Promise.resolve([]),s||(c=o.fetch(t)),u=i.fetch(t),e.next=9,c;case 9:return f=e.sent,e.next=12,u;case 12:return d=e.sent,h=d,m=l.some(d,H),h=[].concat(I(h),I(m?f.filter((function(e){return!H(e)})):f)),e.abrupt("return",h);case 17:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){M(i,r,o,a,s,"next",e)}function s(e){M(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),e}();function G(e){return{name:e.name,address_line1:e.address.line1,address_line2:(t=[e.address.line2,e.address.line3],n=t.filter((function(e){return Boolean(e)})),n.length>0?n.join(", "):void 0),address_city:e.address.city,address_state:e.address.state,address_zip:e.address.zip,address_country:"US",email:e.email};var t,n}function X(e){var t=[e.address_city,e.address_state,e.address_zip].filter((function(e){return Boolean(e)})).join(" ");return[e.address_line1,e.address_line2,t].filter((function(e){return Boolean(e)&&""!==e&&" "!==e})).join(", ")}function D(e){var t=e.officialAddress,n=e.onAddressSelected,r=t.name+":"+t.officeName;return o.a.createElement("label",{className:"pure-checkbox official-checkbox",key:r},o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",onChange:function(e){n(e.target.checked,G(t))}})),o.a.createElement("div",null,o.a.createElement("b",null,t.name),t.officeName&&" ("+t.officeName+")",","," ",function(e){return X(G(e))}(t)," ",t.link&&o.a.createElement("a",{target:"_blank",href:t.link},"Read about their positions")))}function V(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e){var t=e.addresses,n=e.onAddressSelected,r=e.officials,i=e.myAddress,a=[].concat(V(t),V(r));return i.address_line1&&0===a.length?o.a.createElement("div",null,"No representatives found, sorry"):o.a.createElement("div",{className:"pure-controls"},null==a?void 0:a.map((function(e){return o.a.createElement(D,{key:JSON.stringify(e),officialAddress:e,onAddressSelected:n})})))}var Y=new RegExp(/^[A-Z ]+$/);function W(e){var t=e.variables,n=e.updateField;return o.a.createElement(o.a.Fragment,null,t.map((function(e){var t=Y.test(e)?l.startCase(l.toLower(e)):e;return o.a.createElement("fieldset",{key:e},o.a.createElement("div",{className:"pure-control-group"},o.a.createElement("label",null,t),o.a.createElement("input",{className:"pure-u-1",type:"text",onChange:function(t){n(e,t.target.value)}})))})))}function q(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=["YOUR NAME"];var Q=function(e){var t=e.template,n=e.googleApiKey,i=Object(r.useState)(t.template),a=i[0],s=i[1],c=Object(r.useState)(!1),f=c[0],d=c[1],p=Object(r.useState)({}),h=p[0],m=p[1],v=Object(r.useState)({}),y=v[0],g=v[1],w=Object(r.useState)([]),b=w[0],E=w[1],x=Object(r.useState)([]),S=x[0],O=x[1],j=Object(r.useState)(!1),L=j[0],F=j[1];function _(e,n){var r=Object.assign({},y);if(n?r[e]=n:delete r[e],g(r),f)s(a.replace(new RegExp("\\["+e+"\\]","g"),n));else{var o=t.template;l.forEach(r,(function(e,t){o=o.replace(new RegExp("\\["+t+"\\]","g"),e)})),s(o)}}Object(r.useEffect)((function(){if(h.address_city&&h.address_line1&&h.address_state&&h.address_zip&&(!t.addresses||0===t.addresses.length)){var e=X(h),r=new K(n);F(!0),r.fetch({address:e,restricts:t.officialRestricts}).then((function(e){O(e),F(!1)}))}}),[h]);var k=function(e){var t=e.match(/\[[^\]]+\]/g),n=l.uniq(null==t?void 0:t.map((function(e){return e.replace("[","").replace("]","")}))).filter((function(e){return!$.includes(e)})),r=l.find(n,(function(e){return e.toLocaleLowerCase().includes("email")}));if(!r){n.push("YOUR EMAIL ADDRESS"),r="YOUR EMAIL ADDRESS"}return{variables:n,emailKey:r}}(t.template),P=k.variables,R=k.emailKey,C=0===l.difference([].concat(q(P),$),l.keys(y)).length;return o.a.createElement("div",{className:"pure-form pure-form-stacked letter-form"},o.a.createElement("fieldset",null,o.a.createElement(N,{updateAddress:function(e){m(e),_("YOUR NAME",e.name)}}),o.a.createElement(W,{variables:P,updateField:_}),o.a.createElement("div",{className:"pure-control-group"},o.a.createElement("label",null,"Letter Body"),o.a.createElement(u.a,{onChange:function(e){d(!0),s(e.target.value)},value:a}),t.notes&&o.a.createElement("div",{style:{fontStyle:"italic",textAlign:"right"},className:"p-1"},t.notes)),o.a.createElement("div",{className:"pt-2 pb-2"},L?o.a.createElement("div",null,"Searching for representatives ..."):o.a.createElement(B,{officials:S,addresses:t.addresses||[],onAddressSelected:function(e,t){E(e?l.uniq([].concat(q(b),[t])):b.filter((function(e){return JSON.stringify(e)!==JSON.stringify(t)})))},myAddress:h}),o.a.createElement(A,{checkedAddresses:b,myAddress:h,body:a,allVariablesFilledIn:C,email:y[R]}))),o.a.createElement("br",null),o.a.createElement("h6",null,"Powered by ",o.a.createElement("a",{href:"https://lob.com"},"Lob")," and"," ",o.a.createElement("a",{href:"https://stripe.com"},"Stripe"),"."),o.a.createElement("br",null))},ee=n("EIbV");var te=function(e){var t,n;function r(t){var n;return n=e.call(this,t)||this,console.log(n.props),n.siteConfig=n.props.data.siteConfig,n.letterData=n.props.data.markdownRemark.frontmatter,n.title="Defund 12 in "+n.letterData.city+", "+n.letterData.state,n.meta="Send a pre-written letter directly to "+n.letterData.city+", "+n.letterData.state+" officials",n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this,n=null===(e=this.letterData.officials)||void 0===e?void 0:e.map((function(e){var t=e.split(":");return{level:t[0],role:t[1]}})),r={template:this.letterData.body,officialRestricts:n};return o.a.createElement(i.a,{pageTitle:this.title,meta:this.meta},o.a.createElement("section",{className:"emailPageHeader"},o.a.createElement("h2",null,this.letterData.name),o.a.createElement("b",null,this.letterData.city,", ",this.letterData.state),o.a.createElement("div",{className:"buttons"},o.a.createElement("a",{onClick:function(){return ee.a.copyToClipboard(t.letterData.permalink,!0)}},"Copy link")),o.a.createElement("p",{dangerouslySetInnerHTML:{__html:ee.a.markdownToHTML(this.siteConfig.letterPageHeader)}})),o.a.createElement("article",{className:"letterContentSection"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"letterContent"},o.a.createElement(Q,{template:r,googleApiKey:this.siteConfig.googleApiKey})))),o.a.createElement(s,null))},r}(o.a.Component),ne="3298103257"},O6Fj:function(e,t,n){"use strict";t.__esModule=!0;var r=n("CNgt");t.default=r.TextareaAutosize},OGtf:function(e,t,n){var r=n("XKFU"),o=n("eeVq"),i=n("vhPU"),a=/"/g,s=function(e,t,n,r){var o=String(i(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+o+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*o((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},Rk8H:function(e,t,n){n("V+eJ");var r=n("jTPX");e.exports=function(e){var t=r(e,"line-height"),n=parseFloat(t,10);if(t===n+""){var o=e.style.lineHeight;e.style.lineHeight=t+"em",t=r(e,"line-height"),n=parseFloat(t,10),o?e.style.lineHeight=o:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(n*=4,n/=3):-1!==t.indexOf("mm")?(n*=96,n/=25.4):-1!==t.indexOf("cm")?(n*=96,n/=2.54):-1!==t.indexOf("in")?n*=96:-1!==t.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===t){var i=e.nodeName,a=document.createElement(i);a.innerHTML="&nbsp;","TEXTAREA"===i.toUpperCase()&&a.setAttribute("rows","1");var s=r(e,"font-size");a.style.fontSize=s,a.style.padding="0px",a.style.border="0px";var c=document.body;c.appendChild(a),n=a.offsetHeight,c.removeChild(a)}return n}},SD9F:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));n("Z2Ku"),n("L9s1"),n("VRzm"),n("pIFo"),n("XfO3"),n("HEwt"),n("f3/d"),n("a1Th"),n("h7Nl"),n("rE2o"),n("LK8F"),n("WLL4"),n("jm62"),n("8+KV"),n("0l/t"),n("ioFf"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("HAE/"),n("q1tI");var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},o=(parseInt,"object"==typeof r&&r&&r.Object===Object&&r),i="object"==typeof self&&self&&self.Object===Object&&self;o||i||Function("return this")(),Object.prototype.toString,Math.max,Math.min;var a=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(n,r){t.geocode(e,(function(t,o){"OK"!==o&&r(o),!e.address&&e.componentRestrictions&&(console.error("> 💡use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),n(t)),n(t)}))}))},s=function(e){return new Promise((function(t,n){try{var r=e.geometry.location,o=r.lat,i=r.lng;t({lat:o(),lng:i()})}catch(e){n(e)}}))}}).call(this,n("yLpj"))},SPin:function(e,t,n){"use strict";var r=n("XKFU"),o=n("eyMr");r(r.P+r.F*!n("LyE8")([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},WLL4:function(e,t,n){var r=n("XKFU");r(r.S+r.F*!n("nh4g"),"Object",{defineProperties:n("FJW5")})},YuTi:function(e,t,n){n("HAE/"),e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},bHtr:function(e,t,n){var r=n("XKFU");r(r.P,"Array",{fill:n("Nr18")}),n("nGyu")("fill")},dRSK:function(e,t,n){"use strict";var r=n("XKFU"),o=n("CkkT")(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("nGyu")("find")},fA63:function(e,t,n){"use strict";n("qncB")("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},jTPX:function(e,t,n){n("pIFo");e.exports=function(e,t,n){return((n=window.getComputedStyle)?n(e):e.currentStyle)[t.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()}))]}},jm62:function(e,t,n){var r=n("XKFU"),o=n("mQtv"),i=n("aCFj"),a=n("EemH"),s=n("8a7r");r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=i(e),c=a.f,u=o(r),l={},f=0;u.length>f;)void 0!==(n=c(r,t=u[f++]))&&s(l,t,n);return l}})},l0Rn:function(e,t,n){"use strict";var r=n("RYi7"),o=n("vhPU");e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},ls82:function(e,t,n){n("rGqo"),n("yt8O"),n("a1Th"),n("h7Nl"),n("VRzm"),n("Btvt"),n("/SS/"),n("f3/d"),n("8+KV"),n("hHhE"),n("rE2o"),n("ioFf");var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=s;var u={};function l(){}function f(){}function d(){}var p={};p[o]=function(){return this};var h=Object.getPrototypeOf,m=h&&h(h(S([])));m&&m!==t&&n.call(m,o)&&(p=m);var v=d.prototype=l.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function g(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=v.constructor=d,d.constructor=f,d[a]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(g.prototype),g.prototype[i]=function(){return this},e.AsyncIterator=g,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new g(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),v[a]="Generator",v[o]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},mQtv:function(e,t,n){var r=n("kJMx"),o=n("JiEa"),i=n("y3w9"),a=n("dyZX").Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},o0o1:function(e,t,n){e.exports=n("ls82")},tUrg:function(e,t,n){"use strict";n("OGtf")("link",(function(e){return function(t){return e(this,"a","href",t)}}))},"xF/b":function(e,t,n){"use strict";var r=n("EWmC"),o=n("0/R4"),i=n("ne8i"),a=n("m0Pp"),s=n("K0xU")("isConcatSpreadable");e.exports=function e(t,n,c,u,l,f,d,p){for(var h,m,v=l,y=0,g=!!d&&a(d,p,3);y<u;){if(y in c){if(h=g?g(c[y],y,n):c[y],m=!1,o(h)&&(m=void 0!==(m=h[s])?!!m:r(h)),m&&f>0)v=e(t,n,h,i(h.length),v,f-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=h}v++}y++}return v}}}]);
//# sourceMappingURL=component---src-components-letter-letter-tsx-3ddab5cc37e6f406605d.js.map